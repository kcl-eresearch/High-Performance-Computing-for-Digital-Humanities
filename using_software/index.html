
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="High Performance Computing with CREATE">
      
      
        <meta name="author" content="KCL e-Research">
      
      
        <link rel="canonical" href="https://github.kcl.ac.uk/pages/e-research/CREATE-HPC-Training/using_software/">
      
      
        <link rel="prev" href="../connecting/">
      
      
        <link rel="next" href="../submitting_jobs/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Accessing software - High Performance Computing with CREATE</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#accessing-software" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="High Performance Computing with CREATE" class="md-header__button md-logo" aria-label="High Performance Computing with CREATE" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            High Performance Computing with CREATE
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Accessing software
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="High Performance Computing with CREATE" class="md-nav__button md-logo" aria-label="High Performance Computing with CREATE" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    High Performance Computing with CREATE
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intro
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connecting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Accessing software
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Accessing software
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environment-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercises-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Exercises - modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-your-own-software" class="md-nav__link">
    <span class="md-ellipsis">
      Installing your own software
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing your own software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python-virtual-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Python virtual environments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python virtual environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exercises-virtual-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Exercises - virtual environments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../submitting_jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Submitting jobs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../parallel_jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parallel jobs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../singularity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Singularity
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../jupyter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jupyter notebooks
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../exercises/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Practical
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../next-steps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Next steps
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unix_commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unix commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ssh_keys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH keys
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../slides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slides
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environment-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercises-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Exercises - modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-your-own-software" class="md-nav__link">
    <span class="md-ellipsis">
      Installing your own software
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing your own software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python-virtual-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Python virtual environments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python virtual environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exercises-virtual-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Exercises - virtual environments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="accessing-software">Accessing software<a class="headerlink" href="#accessing-software" title="Permanent link">&para;</a></h1>
<p>HPC systems tend to provide software packages for the users. The number can be quite large and
the software varied, especially on clusters where users come from different research backgrounds, such as bioinformatics, computer science, etc.</p>
<p>By default no software is preloaded and to use any of the software packages available one must <em>load</em> them explicitly. This is driven
by the challenges presented by</p>
<ul>
<li>multiple versions</li>
<li>dependencies</li>
<li>incompatibilities between different versions and packages</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>On CREATE HPC, <a href="https://spack.readthedocs.io/en/latest/">spack</a> is used to install and manage the software on the platform.</p>
</div>
<h2 id="environment-modules">Environment Modules<a class="headerlink" href="#environment-modules" title="Permanent link">&para;</a></h2>
<p>Environment modules provide a way for a dynamic modification of a user's environment and address some of the challenges listed above.
They are very useful in managing large numbers of applications and help to control multiple versions and the dependencies present.</p>
<p>Each modulefile contains information needed to set up your environment for the application.
In most cases it will alter, or define shell variables such as <code>PATH</code>, <code>LD_LIBRARY_PATH</code>, etc.</p>
<p>If there are specific dependencies, the modules will define and load them accordingly. For example, if a package relies on
a specific compiler, the module file will load that compiler for you.</p>
<p>To list available modules on the system use <code>module avail</code>. After you run it you should see something similar to the following output:</p>
<div class="highlight"><pre><span></span><code>k1234567@erc-hpc-login1:~$ module avail

----------------------------------------------------------------------------- /software/spackages_prod/modules/linux-ubuntu20.04-zen2 -----------------------------------------------------------------------------
   alsa-lib/1.2.3.2-gcc-9.4.0                                                 perl-extutils-config/0.008-gcc-9.4.0
   amdblis/3.0-gcc-9.4.0-python-3.8.12                                        perl-extutils-helpers/0.026-gcc-9.4.0
   amdfftw/3.0-gcc-9.4.0-openmpi-4.1.1-python-3.8.12                          perl-extutils-installpaths/0.012-gcc-9.4.0
   amdlibflame/3.0-gcc-9.4.0-python-3.8.12                                    perl-extutils-makemaker/7.24-gcc-9.4.0
   anaconda3/2021.05-gcc-9.4.0                                                perl-extutils-pkgconfig/1.16-gcc-9.4.0
   ant/1.10.7-gcc-9.4.0                                                       perl-file-listing/6.04-gcc-9.4.0
   autoconf-archive/2019.01.06-gcc-9.4.0                                      perl-font-ttf/1.06-gcc-9.4.0
   autoconf/2.69-gcc-9.4.0                                                    perl-gd/2.53-gcc-9.4.0-python-3.8.12
   automake/1.16.3-gcc-9.4.0                                                  perl-html-parser/3.72-gcc-9.4.0
   bazel/3.7.2-gcc-9.4.0-python-3.8.12                                        perl-html-tagset/3.20-gcc-9.4.0
   bcftools/1.12-gcc-9.4.0-python-3.8.12                                      perl-http-cookies/6.04-gcc-9.4.0
   bdftopcf/1.0.5-gcc-9.4.0                                                   perl-http-daemon/6.01-gcc-9.4.0
   bedtools2/2.23.0-gcc-9.4.0-python-3.8.12                                   perl-http-date/6.02-gcc-9.4.0
   berkeley-db/18.1.40-gcc-9.4.0                                              perl-http-message/6.13-gcc-9.4.0
   binutils/2.37-gcc-9.4.0                                                    perl-http-negotiate/6.01-gcc-9.4.0
   bismark/0.23.0-gcc-9.4.0-python-3.8.12                                     perl-io-html/1.001-gcc-9.4.0
...
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The version numbers you see might differ from the example shown here due to module updates since this training was written.</p>
</div>
<p>You can run the above command yourself to see the full list.
Use the arrow keys to scroll up and down the list, and <code>q</code> to go back to the command line when you're done.</p>
<p>If you know the name, or parts of the name of the package that you want to use, you can search for it using <code>module spider</code>, e.g.</p>
<div class="highlight"><pre><span></span><code>module spider python

--------------------------------------------------------------------------------------------------------------------------------------------------
  python:
--------------------------------------------------------------------------------------------------------------------------------------------------
     Versions:
        python/3.11.6-gcc-11.4.0
        python/3.11.6-gcc-12.3.0
        python/3.11.6-gcc-13.2.0
     Other possible modules matches:
        py-meson-python  py-mysql-connector-python  py-python-dateutil

--------------------------------------------------------------------------------------------------------------------------------------------------
  To find other possible module matches execute:

      $ module -r spider &#39;.*python.*&#39;

--------------------------------------------------------------------------------------------------------------------------------------------------
  For detailed information about a specific &quot;python&quot; package (including how to load the modules) use the module&#39;s full name.
  Note that names that have a trailing (E) are extensions provided by other modules.
  For example:

     $ module spider python/3.11.6-gcc-13.2.0
--------------------------------------------------------------------------------------------------------------------------------------------------
</code></pre></div>
<p>To load a module use <code>module load</code> command</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>python/3.11.6-gcc-13.2.0
</code></pre></div>
<p>The above command loads a specific version of the application/module. If the explicit version is omitted during the <code>module load</code> request,
i.e. <code>module load python</code>, the default version of the package will be loaded.
The default version is marked by <code>D</code> (for default) in the output of <code>module avail</code>.
It is better to load a specific version of the module rather than relying on the default versioning to avoid issues when the default version changes.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You might see different module versions that provide the same version of the application, but with
different dependency versions, e.g. different versions of gcc. This is helpful for compatibility with
other software that requires a specific gcc version.</p>
</div>
<p>To list currently loaded modules use <code>module list</code></p>
<div class="highlight"><pre><span></span><code>module list

Currently Loaded Modules:
  1) bzip2/1.0.8-gcc-13.2.0     7) gdbm/1.23-gcc-13.2.0       13) zstd/1.5.5-gcc-13.2.0                     19) sqlite/3.43.2-gcc-13.2.0
  2) libmd/1.0.4-gcc-13.2.0     8) libiconv/1.17-gcc-13.2.0   14) tar/1.34-gcc-13.2.0                       20) util-linux-uuid/2.38.1-gcc-13.2.0
  3) libbsd/0.11.7-gcc-13.2.0   9) xz/5.4.1-gcc-13.2.0        15) gettext/0.22.3-gcc-13.2.0-libxml2-2.10.3  21) python/3.11.6-gcc-13.2.0
  4) expat/2.5.0-gcc-13.2.0    10) zlib-ng/2.1.4-gcc-13.2.0   16) libffi/3.4.4-gcc-13.2.0
  5) ncurses/6.4-gcc-13.2.0    11) libxml2/2.10.3-gcc-13.2.0  17) libxcrypt/4.4.35-gcc-13.2.0
  6) readline/8.2-gcc-13.2.0   12) pigz/2.7-gcc-13.2.0        18) openssl/3.1.3-gcc-13.2.0
</code></pre></div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Although you can load the modules on the login nodes and they will be propagated to the scheduled jobs, you <strong>should</strong> load them in your job script as some of the
software is optimised for specific processor architectures. You will also avoid conflicts and missing modules (in case you forget to load them before submitting the job).</p>
</div>
<p>To remove, or unload a specific module use <code>module rm</code></p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>rm<span class="w"> </span>python/3.11.6-gcc-13.2.0
</code></pre></div>
<p>This will also unload any dependent modules required by the module you are unloading.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To remove <strong>all</strong> loaded modules use <code>module purge</code>.</p>
</div>
<p>To find out more information about the module, use <code>module whatis</code></p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>whatis<span class="w"> </span>python/3.11.6-gcc-13.2.0
</code></pre></div>
<p>You should see information about the module</p>
<div class="highlight"><pre><span></span><code>python/3.11.6-gcc-13.2.0                       : The Python programming language.
</code></pre></div>
<h2 id="exercises-modules">Exercises - modules<a class="headerlink" href="#exercises-modules" title="Permanent link">&para;</a></h2>
<p>To test your understanding of how to access software using modules, work through the exercises in <a href="../exercises/#using-modules">this section</a>.</p>
<h2 id="installing-your-own-software">Installing your own software<a class="headerlink" href="#installing-your-own-software" title="Permanent link">&para;</a></h2>
<p>Although it's likely that many software packages are pre-installed on any HPC cluster, there is a chance that the package that you want to use
is not installed and cannot be accessed as a module.</p>
<p>You can of course build, or install your own packages. As you do not have root (administrative rights) on the nodes you won't be able to install them
into system locations, or use system package managers (<code>apt</code>, <code>dpkg</code>) to perform the installations.
You can however install into your own personal location, or the group shares - in essence anywhere you can write to. Build systems such
as <code>cmake</code> or <code>automake</code> will have appropriate switches to define custom installation locations.</p>
<p>Building and installing software can become complex, and is beyond the scope of this workshop.
However, we will discuss a few other approaches to accessing software that you might find useful:
Python virtual environments, Conda, and <a href="../singularity/">Singularity</a>.</p>
<p>Python virtual environments and Conda/Anaconda provide a way to extend functionality of an existing python installation and create isolated environments
that can be used to install, or upgrade specific packages.
Singularity is a tool for running <a href="https://en.wikipedia.org/wiki/Containerization_(computing)">software containers</a>.</p>
<h3 id="python-virtual-environments">Python virtual environments<a class="headerlink" href="#python-virtual-environments" title="Permanent link">&para;</a></h3>
<p>To create a Python virtual environment load the relevant python module and then execute <code>python3 -m venv envname</code> command replacing <code>envname</code> with the name
of the environment you want to create:</p>
<div class="highlight"><pre><span></span><code>k1234567@erc-hpc-login1:~$ module load python/3.11.6-gcc-13.2.0
k1234567@erc-hpc-login1:~$ python3 -m venv myenv
</code></pre></div>
<p>With this, Python has created the <code>myenv</code> directory which now contains the required base files.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can also specify the absolute/relative path to the environment if you do not want it created in the current directory.</p>
</div>
<p>You only need to create the environment once. Once it has been created you do not need to run the command again (unless you need deleted the current one, or wish to create another one).</p>
<p>To use the environment you have to activate it first by sourcing the activate script</p>
<div class="highlight"><pre><span></span><code>k1234567@erc-hpc-login1:~$ source myenv/bin/activate
(myenv) k1234567@erc-hpc-login1:~$
</code></pre></div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>When activating the virtual environment you can use relative paths, but the activation has to be initiated from the right directory.
Using full (absolute) path might be the safer alternative.</p>
</div>
<p>The name of the venv should be prepended to your prompt indicating that the environment is active. From now on you can use the environment:</p>
<ul>
<li>
<p>to install packages</p>
<div class="highlight"><pre><span></span><code>(myenv) k1234567@erc-hpc-login2:~$ pip install pytest
Collecting pytest
  Downloading pytest-7.3.2-py3-none-any.whl (320 kB)
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 320.9/320.9 kB 12.8 MB/s eta 0:00:00
Collecting tomli&gt;=1.0.0
  Downloading tomli-2.0.1-py3-none-any.whl (12 kB)
Collecting packaging
  Downloading packaging-23.1-py3-none-any.whl (48 kB)
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.9/48.9 kB 2.5 MB/s eta 0:00:00
Collecting iniconfig
  Downloading iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
Collecting exceptiongroup&gt;=1.0.0rc8
  Downloading exceptiongroup-1.1.1-py3-none-any.whl (14 kB)
Collecting pluggy&lt;2.0,&gt;=0.12
  Downloading pluggy-1.0.0-py2.py3-none-any.whl (13 kB)
Installing collected packages: tomli, pluggy, packaging, iniconfig, exceptiongroup, pytest
Successfully installed exceptiongroup-1.1.1 iniconfig-2.0.0 packaging-23.1 pluggy-1.0.0 pytest-7.3.2 tomli-2.0.1

[notice] A new release of pip available: 22.3.1 -&gt; 23.1.2
[notice] To update, run: pip install --upgrade pip
</code></pre></div>
</li>
<li>
<p>or to run python scripts</p>
<div class="highlight"><pre><span></span><code>(myenv) k1234567@erc-hpc-login1:~$ python /datasets/hpc_training/utils/helloworld.py
Hello World!
</code></pre></div>
</li>
</ul>
<p>To deactivate the environment use <code>deactivate</code> command</p>
<div class="highlight"><pre><span></span><code>(myenv) k1234567@erc-hpc-login1:~$ deactivate
k1234567@erc-hpc-login1:~$
</code></pre></div>
<p>You will see that the environment name has disappeared from the shell prompt.</p>
<details class="note">
<summary>Conda virtual environments</summary>
<p>Conda is another tool for creating virtual environments.
On CREATE, Conda is available via the <code>anaconda3</code> module.</p>
<p>To use Conda, first load the module:</p>
<div class="highlight"><pre><span></span><code>module load anaconda3/2022.10-gcc-13.2.0
</code></pre></div>
<p>You can then create a virtual environment and specify the packages you want to install into that environment.
For example, to create an environment with a specific version of Python:</p>
<div class="highlight"><pre><span></span><code>conda create --name python39-env python=3.9
</code></pre></div>
<p>The environment can be activated by running <code>conda activate</code> with the name of the env</p>
<div class="highlight"><pre><span></span><code>k1234567@erc-hpc-login1:~$ conda activate python39-env
(python39-env) k1234567@erc-hpc-login1:~$
</code></pre></div>
<p>and deactivated by running <code>conda deactivate</code></p>
<div class="highlight"><pre><span></span><code>(python39-env) k1234567@erc-hpc-login1:~$ conda deactivate
k1234567@erc-hpc-login1:~$
</code></pre></div>
<p>As with Python virtualenvs, note that the name of the active Conda environment is prepended to your prompt when the environment is active.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To prevent activation of the Conda base environment by default, which may conflict with other modules/packages, run
<code>conda config --set auto_activate_base false</code></p>
</div>
</details>
<h4 id="exercises-virtual-environments">Exercises - virtual environments<a class="headerlink" href="#exercises-virtual-environments" title="Permanent link">&para;</a></h4>
<p>To practice using Python virtual environments, work through the exercises in <a href="../exercises/#python-virtual-environments">this section</a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.indexes", "navigation.top"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>